digraph LibraryUseCase {
  rankdir=LR;
  fontsize=10;
  fontname="Helvetica";

  // === Actor Style ===
  // We use HTML-like labels to create a "stick figure" feel or clear icons
  node [shape=none, fontname="Helvetica-Bold", fontsize=11];

  Member [label=<<table border="0" cellborder="0"><tr><td><font point-size="30">ğŸ‘¤</font></td></tr><tr><td>Member</td></tr></table>>];
  Librarian [label=<<table border="0" cellborder="0"><tr><td><font point-size="30">ğŸ‘¨â€ğŸ’¼</font></td></tr><tr><td>Librarian</td></tr></table>>];
  Admin [label=<<table border="0" cellborder="0"><tr><td><font point-size="30">ğŸ§‘â€ğŸ’¼</font></td></tr><tr><td>Administrator</td></tr></table>>];

  // === System Boundary Cluster ===
  subgraph cluster_LMS {
    label="Library Management System";
    style="rounded,filled";
    color="#87CEFA"; 
    fillcolor="#E6F7FF"; 
    fontsize=14;
    fontname="Helvetica-Bold";

    // === Use Case Style (Ellipses) ===
    node [shape=ellipse, style=filled, fillcolor="#FFF8DC", color="#DAA520", fontname="Helvetica", fontsize=10];

    Register;
    Login;
    SearchBooks [label="Search Books"];
    ViewBookDetails [label="View Book Details"];
    CheckAvailability [label="Check\nAvailability"];
    IssueBook [label="Issue Book"];
    ReturnBook [label="Return Book"];
    UpdateAvailability [label="Update\nAvailability"];
    ViewFine [label="View Fine"];
    PayFine [label="Pay Fine"];
    CalculateFine [label="Calculate Fine"];
    AddBook [label="Add Book"];
    UpdateBook [label="Update Book"];
    RemoveBook [label="Remove Book"];
    ManageMembers [label="Manage\nMember Records"];
    ManageLibrarians [label="Manage\nLibrarian Accounts"];
    GenerateReports [label="Generate Reports"];
  }

  // === Associations (Solid Lines) ===
  edge [arrowhead=none, color="#2F4F4F"];
  Member -> Register;
  Member -> Login;
  Member -> SearchBooks;
  Member -> ViewBookDetails;
  Member -> IssueBook;
  Member -> ReturnBook;
  Member -> ViewFine;
  Member -> PayFine;

  Librarian -> Login;
  Librarian -> AddBook;
  Librarian -> UpdateBook;
  Librarian -> RemoveBook;
  Librarian -> ManageMembers;
  Librarian -> CalculateFine;

  Admin -> Login;
  Admin -> ManageLibrarians;
  Admin -> GenerateReports;

  // === Relationships (Dashed/Dotted) ===
  edge [arrowhead=vee, style=dashed, color="#4682B4", fontsize=9];
  IssueBook -> CheckAvailability [label="<<include>>"];
  ReturnBook -> UpdateAvailability [label="<<include>>"];
  PayFine -> CalculateFine [label="<<include>>"];

  edge [style=dotted, color="#8B0000"];
  PayFine -> ReturnBook [label="<<extend>>"];
}